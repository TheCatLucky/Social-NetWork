(this["webpackJsonplearn-project"]=this["webpackJsonplearn-project"]||[]).push([[4],{420:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var s=n(8),r=n(421),c=n.n(r),a=n(7),i=function(e){var t=e.meta,n=e.children,s=t.touched&&t.error;return Object(a.jsxs)("div",{className:c.a.formControl+" "+(s?c.a.error:""),children:[n,s&&Object(a.jsx)("span",{children:t.error})]})},o=function(e){return Object(a.jsx)(i,Object(s.a)(Object(s.a)({},e),{},{children:Object(a.jsx)("textarea",Object(s.a)(Object(s.a)({},e.input),e))}))},u=function(e){return Object(a.jsx)(i,Object(s.a)(Object(s.a)({},e),{},{children:Object(a.jsx)("input",Object(s.a)(Object(s.a)({},e.input),e))}))}},421:function(e,t,n){e.exports={formControl:"FormControls_formControl__11yvM",error:"FormControls_error__1l01I"}},422:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r}));var s=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},431:function(e,t,n){"use strict";t.a=n.p+"static/media/user_default.a6143582.png"},434:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var s=n(8);function r(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},c=Object.keys(e);for(s=0;s<c.length;s++)n=c[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(s=0;s<c.length;s++)n=c[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n(0);var c=n(32),a=n(9),i=n(7),o=["isAuth"],u=function(e){return{isAuth:e.auth.isAuth}};function j(e){return Object(c.b)(u)((function(t){if(!t.isAuth)return Object(i.jsx)(a.a,{to:"/login"});t.isAuth;var n=r(t,o);return Object(i.jsx)(e,Object(s.a)({},n))}))}},447:function(e,t,n){e.exports={posts:"MyPosts_posts__2aDEP",messageArea:"MyPosts_messageArea__2Zdk0"}},493:function(e,t,n){e.exports={item:"Post_item__1-oqb",img:"Post_img__3OKQk",buttonLike:"Post_buttonLike__1Agex",name:"Post_name__2AhXX",message:"Post_message__1IUxc",messageText:"Post_messageText__1yaEv",itemInfo:"Post_itemInfo__2UU-Y",buttonDelete:"Post_buttonDelete__2IVxj"}},494:function(e,t,n){e.exports={profile:"Profile_profile__2JdNt"}},495:function(e,t,n){e.exports={profile:"ProfileInfo_profile__1TKkc",avatar:"ProfileInfo_avatar__2c8DW"}},496:function(e,t,n){e.exports={input:"ProfileStatus_input__2W9ga"}},505:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),c=n(32),a=n(9),i=n(74),o=n(434),u=n(125),j=n(53);var l=n(447),f=n.n(l),b=n(493),O=n.n(b),d=n(7),m=function(e){var t=e.message,n=e.name,s=e.id,r=e.age,a=Object(c.c)();return Object(d.jsxs)("div",{className:O.a.item,children:[Object(d.jsxs)("div",{className:O.a.message,children:[Object(d.jsx)("img",{className:O.a.img,src:"https://www.film.ru/sites/default/files/filefield_paths/maxresdefault_1_24.jpg",alt:"avatar"}),Object(d.jsx)("span",{className:O.a.messageText,children:t})]}),Object(d.jsxs)("div",{className:O.a.itemInfo,children:[Object(d.jsxs)("span",{className:O.a.name,children:["Name: ",n," Age: ",r]}),Object(d.jsx)("span",{className:O.a.buttonLike,children:"Like"}),Object(d.jsx)("button",{onClick:function(){return function(e){console.log(e),a(u.a.removePost(e))}(s)},className:O.a.buttonDelete,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},p=n(209),x=n(106),h=n(210),_=n(422),v=n(420),g=Object(_.a)(50),P=Object(h.a)({form:"newPost",onSubmitSuccess:function(e,t){t(Object(x.a)("newPost"))}})((function(e){var t=e.handleSubmit;return Object(d.jsxs)("form",{onSubmit:t,children:[Object(d.jsx)(p.a,{name:"newPost",component:v.b,validate:[_.b,g],cols:50,rows:3,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430",className:f.a.messageArea}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"})})]})}));function N(){var e=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));e--;){var s=63&n[e];t+=s<36?s.toString(36):s<62?(s-26).toString(36).toUpperCase():s<63?"_":"-"}return t}();return e}var w=function(){var e=Object(c.d)((function(e){return e.profilePage.postsData})),t=Object(c.c)(),n=e.map((function(e){return Object(d.jsx)(m,{id:e.id,message:e.message,name:e.name,age:e.age},N())}));return Object(d.jsxs)("div",{className:f.a.posts,children:[Object(d.jsx)("h3",{children:"My posts"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)(P,{onSubmit:function(e){t(u.a.addPost(e.newPost))}})}),n]})]})},y=r.a.memo(w),k=n(494),A=n.n(k),S=n(121),C=n(431),I=n(495),D=n.n(I),E=n(63),F=n(496),M=n.n(F),T=function(e){var t=e.status,n=Object(s.useState)(!1),r=Object(E.a)(n,2),a=r[0],i=r[1],o=Object(s.useState)(t),j=Object(E.a)(o,2),l=j[0],f=j[1],b=Object(c.c)();Object(s.useEffect)((function(){f(t)}),[t]);return Object(d.jsxs)(d.Fragment,{children:[!a&&Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441 : "}),Object(d.jsx)("span",{onDoubleClick:function(){i(!0)},children:t||"No status"})]}),a&&Object(d.jsx)("div",{children:Object(d.jsx)("input",{autoFocus:!0,className:M.a.input,onBlur:function(){i(!1),b(Object(u.f)(t))},onChange:function(e){f(e.currentTarget.value)},value:l})})]})},U=function(e){var t=e.profile,n=e.isOwner,s=e.status,r=Object(c.c)();if(!t)return Object(d.jsx)(S.a,{});var a=t.photos.small;return console.log(n),Object(d.jsx)("div",{className:D.a.profile,children:Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:t.fullName}),Object(d.jsx)("img",{className:D.a.avatar,src:a||C.a,alt:"avatar"}),n&&Object(d.jsx)("input",{type:"file",onChange:function(e){e.target.files&&e.target.files.length&&(console.log(e.target.files[0]),r(Object(u.e)(e.target.files[0])))}}),Object(d.jsx)(T,{status:s})]})})},L=function(e){var t=e.isOwner,n=e.profile,s=e.status;return Object(d.jsxs)("div",{className:A.a.profile,children:[Object(d.jsx)(U,{isOwner:t,profile:n,status:s}),Object(d.jsx)(y,{})]})};t.default=Object(i.compose)(o.a)((function(){var e=Object(a.h)().id,t=Object(c.d)(j.b).userId,n=Object(c.d)(j.d),r=n.profile,i=n.status,o=Object(c.c)();return Object(s.useEffect)((function(){!function(){if("undefined"!==typeof e){var n=null!==t&&void 0!==t?t:+e;o(Object(u.c)(n)),o(Object(u.d)(n))}}()}),[e,t]),Object(d.jsx)(L,{isOwner:!1,profile:r,status:i})}))}}]);
//# sourceMappingURL=4.2eafca12.chunk.js.map