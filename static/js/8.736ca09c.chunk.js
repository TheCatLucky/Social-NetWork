(this["webpackJsonplearn-project"]=this["webpackJsonplearn-project"]||[]).push([[8],{431:function(e,t,n){"use strict";t.a=n.p+"static/media/user_default.a6143582.png"},432:function(e,t,n){e.exports={img:"Users_img__2iXmX",ava:"Users_ava__348my",button:"Users_button__2IeHC",user:"Users_user__3yQyo",content:"Users_content__13IZM",userInfo:"Users_userInfo__T3yNp",name:"Users_name__1rXLe",userName:"Users_userName__1mHvV",selected:"Users_selected__2Mk6F",pagesNumber:"Users_pagesNumber__2soYk",pageNumber:"Users_pageNumber__2nv0Z"}},507:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),r=n(32),a=n(9),i=n(128),u=n(53),l=n(121),o=n(63),j=n(6),b=n.n(j),d=n(432),m=n.n(d),f=n(7),O=function(e){for(var t=e.pageSize,n=e.totalUsersCount,c=e.portionSize,a=e.currentPage,u=Object(s.useState)(1),l=Object(o.a)(u,2),j=l[0],d=l[1],O=Math.ceil(n/t),p=Object(r.c)(),_=[],h=1;h<=O;h++)_.push(h);var x=Math.ceil(O/c),v=(j-1)*c+1,g=j*c;return Object(f.jsxs)("div",{className:m.a.pagesNumber,children:[j>1&&Object(f.jsx)("button",{onClick:function(){return d(j-1)},children:"Prev"}),_.filter((function(e){return e>=v&&e<=g})).map((function(e){return Object(f.jsx)("span",{className:b()(a===e&&m.a.selected,m.a.pageNumber),onClick:function(){!function(e){p(i.a.setCurrentPage(e))}(e)},children:e},e)})),x>j&&Object(f.jsx)("button",{onClick:function(){return d(j+1)},children:"Next"})]})},p=n(41),_=n(431),h=c.a.memo((function(e){var t=e.user,n=Object(r.c)(),s=Object(r.d)(u.e).followingProgress;return Object(f.jsxs)("div",{className:m.a.user,children:[Object(f.jsxs)("div",{className:m.a.ava,children:[Object(f.jsx)(p.c,{to:"/profile/"+t.id,children:Object(f.jsx)("img",{className:m.a.img,src:null!=t.photos.small?t.photos.small:_.a,alt:"avatar"})}),t.followed?Object(f.jsx)("button",{className:m.a.button,disabled:s.some((function(e){return e===t.id})),onClick:function(){var e;e=t.id,n(Object(i.e)(e))},children:"Unfollow"}):Object(f.jsx)("button",{className:m.a.button,disabled:s.some((function(e){return e===t.id})),onClick:function(){var e;e=t.id,n(Object(i.c)(e))},children:"Follow"})]}),Object(f.jsx)("div",{className:m.a.userInfo,children:Object(f.jsxs)("div",{className:m.a.name,children:[Object(f.jsxs)("div",{children:[t.name," "]}),Object(f.jsx)("div",{className:m.a.userName,children:t.status})]})})]})})),x=n(502),v=function(e){return{}},g=c.a.memo((function(e){var t=e.onFilterChanged;return Object(f.jsx)(x.c,{enableReinitialize:!0,initialValues:{term:"",friend:"null"},validate:v,onSubmit:function(e,n){var s=n.setSubmitting,c={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(c),s(!1)},children:function(e){var t=e.isSubmitting;return Object(f.jsxs)(x.b,{children:[Object(f.jsx)(x.a,{type:"text",name:"term"}),Object(f.jsxs)(x.a,{name:"friend",as:"select",children:[Object(f.jsx)("option",{value:"null",children:"All"}),Object(f.jsx)("option",{value:"true",children:"Followed"}),Object(f.jsx)("option",{value:"false",children:"Unfollowed"})]}),Object(f.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})),N=c.a.memo((function(){var e=Object(r.d)(u.e),t=e.totalUsersCount,n=e.pageSize,c=e.currentPage,o=e.usersData,j=e.isFetching,b=e.filter,d=Object(r.c)(),p=Object(a.g)();Object(s.useEffect)((function(){d(Object(i.d)(c,n,b))}),[c]),Object(s.useEffect)((function(){p("/users?term=".concat(b.term,"&friend=").concat(b.friend,"&page=").concat(c))}),[b,c]);return Object(f.jsxs)("div",{className:m.a.content,children:[j?Object(f.jsx)(l.a,{}):null,Object(f.jsx)(g,{onFilterChanged:function(e){d(Object(i.d)(1,n,e))}}),Object(f.jsx)(O,{totalUsersCount:t,pageSize:n,currentPage:c,portionSize:10}),o.map((function(e){return Object(f.jsx)(h,{user:e},e.id)}))]})}));t.default=N}}]);
//# sourceMappingURL=8.736ca09c.chunk.js.map