(this["webpackJsonplearn-project"]=this["webpackJsonplearn-project"]||[]).push([[4],{218:function(t,e,s){"use strict";s.d(e,"b",(function(){return j})),s.d(e,"a",(function(){return l}));var a=s(3),n=s(230),r=(s(0),s(219)),c=s.n(r),o=s(2),i=["input","meta"],u=function(t){t.input;var e=t.meta,s=Object(n.a)(t,i),a=e.touched&&e.error;return Object(o.jsxs)("div",{className:c.a.formControl+" "+(a?c.a.error:""),children:[s.children,a&&Object(o.jsx)("span",{children:e.error})]})},j=function(t){return Object(o.jsx)(u,Object(a.a)(Object(a.a)({},t),{},{children:Object(o.jsx)("textarea",Object(a.a)(Object(a.a)({},t.input),t))}))},l=function(t){return Object(o.jsx)(u,Object(a.a)(Object(a.a)({},t),{},{children:Object(o.jsx)("input",Object(a.a)(Object(a.a)({},t.input),t))}))}},219:function(t,e,s){t.exports={formControl:"FormControls_formControl__11yvM",error:"FormControls_error__1l01I"}},220:function(t,e,s){"use strict";s.d(e,"b",(function(){return a})),s.d(e,"a",(function(){return n}));var a=function(t){if(!t)return"Field is required"},n=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}}},224:function(t,e,s){"use strict";s.d(e,"a",(function(){return p}));var a=s(3),n=s(28),r=s(29),c=s(31),o=s(30),i=s(0),u=s.n(i),j=s(18),l=s(4),b=s(2),p=function(t){var e=function(e){Object(c.a)(i,e);var s=Object(o.a)(i);function i(){return Object(n.a)(this,i),s.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isAuth?Object(b.jsx)(t,Object(a.a)({},this.props)):Object(b.jsx)(l.a,{to:"/login"})}}]),i}(u.a.Component);return Object(j.b)((function(t){return{isAuth:t.auth.isAuth}}))(e)}},229:function(t,e,s){"use strict";e.a=s.p+"static/media/user_default.a6143582.png"},243:function(t,e,s){t.exports={posts:"MyPosts_posts__2aDEP",messageArea:"MyPosts_messageArea__2Zdk0"}},289:function(t,e,s){t.exports={profile:"Profile_profile__2JdNt"}},290:function(t,e,s){t.exports={profile:"ProfileInfo_profile__1TKkc",avatar:"ProfileInfo_avatar__2c8DW"}},291:function(t,e,s){t.exports={input:"ProfileStatus_input__2W9ga"}},292:function(t,e,s){t.exports={item:"Post_item__1-oqb",img:"Post_img__3OKQk",buttonLike:"Post_buttonLike__1Agex",name:"Post_name__2AhXX",message:"Post_message__1IUxc",messageText:"Post_messageText__1yaEv",itemInfo:"Post_itemInfo__2UU-Y",buttonDelete:"Post_buttonDelete__2IVxj"}},295:function(t,e,s){"use strict";s.r(e);var a=s(3),n=s(28),r=s(29),c=s(31),o=s(30),i=s(0),u=s.n(i),j=s(18),l=s(4),b=s(26),p=s(224),f=s(52),d=s(289),m=s.n(d),O=s(48),h=s(229),x=s(290),_=s.n(x),v=s(21),g=s(291),P=s.n(g),S=s(2),N=function(t){var e=Object(i.useState)(!1),s=Object(v.a)(e,2),a=s[0],n=s[1],r=Object(i.useState)(t.status),c=Object(v.a)(r,2),o=c[0],u=c[1];Object(i.useEffect)((function(){u(t.status)}),[t.status]);return Object(S.jsxs)(S.Fragment,{children:[!a&&Object(S.jsx)("div",{children:Object(S.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"No status"})}),a&&Object(S.jsx)("div",{children:Object(S.jsx)("input",{autoFocus:!0,className:P.a.input,onBlur:function(){n(!1),t.updateStatus(o)},onChange:function(t){u(t.currentTarget.value)},value:o})})]})},k=function(t){if(!t.profile)return Object(S.jsx)(O.a,{});var e=t.profile.photos.small;return Object(S.jsx)("div",{className:_.a.profile,children:Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{children:t.profile.fullName}),Object(S.jsx)("img",{className:_.a.avatar,src:e||h.a,alt:"avatar"}),Object(S.jsx)(N,{status:t.status,updateStatus:t.updateStatus,changeStatus:t.changeStatus})]})})},I=s(57),w=s(243),y=s.n(w),A=s(292),C=s.n(A),D=function(t){return Object(S.jsxs)("div",{className:C.a.item,children:[Object(S.jsxs)("div",{className:C.a.message,children:[Object(S.jsx)("img",{className:C.a.img,src:"https://www.film.ru/sites/default/files/filefield_paths/maxresdefault_1_24.jpg",alt:"avatar"}),Object(S.jsx)("span",{className:C.a.messageText,children:t.message})]}),Object(S.jsxs)("div",{className:C.a.itemInfo,children:[Object(S.jsxs)("span",{className:C.a.name,children:["Name: ",t.name," Age: ",t.age]}),Object(S.jsx)("span",{className:C.a.buttonLike,children:"Like"}),Object(S.jsx)("button",{onClick:function(){return e=t.id,console.log(e),void t.removePost(e);var e},className:C.a.buttonDelete,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},T=s(100),M=s(42),F=s(101),L=s(220),E=s(218),J=Object(L.a)(10),U=Object(F.a)({form:"newPost",onSubmitSuccess:function(t,e){e(Object(M.a)("newPost"))}})((function(t){return Object(S.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(S.jsx)(T.a,{name:"newPost",component:E.b,validate:[L.b,J],cols:50,rows:3,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430",className:y.a.messageArea}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"})})]})}));var q=function(t){var e=t.postsData.map((function(e,s){return Object(S.jsx)(D,{id:s,message:e.message,name:e.name,age:e.age,removePost:t.removePost},Object(I.a)())}));return Object(S.jsxs)("div",{className:y.a.posts,children:[Object(S.jsx)("h3",{children:"My posts"}),Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{children:Object(S.jsx)(U,{onSubmit:function(e){t.addPost(e.newPost)}})}),e]})]})},K=Object(j.b)((function(t){return{postsData:t.profilePage.postsData,newPostText:t.profilePage.newPostText}}),{removePost:f.f,addPost:f.a})(q),W=function(t){return Object(S.jsxs)("div",{className:m.a.profile,children:[Object(S.jsx)(k,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,changeStatus:t.changeStatus}),Object(S.jsx)(K,{store:t.store})]})},X=function(t){Object(c.a)(s,t);var e=Object(o.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var t,e=null===(t=this.props.match)||void 0===t?void 0:t.params.userId;e||(e=this.props.userId),this.props.getProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(S.jsx)(W,Object(a.a)(Object(a.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(u.a.Component);e.default=Object(b.compose)(Object(j.b)((function(t){return{profile:t.profilePage.profile,userId:t.auth.userId,isAuth:t.auth.isAuth,status:t.profilePage.status}}),{getProfile:f.d,getStatus:f.e,updateStatus:f.g,changeStatus:f.b}),p.a)((function(t){var e=Object(l.g)("/profile/:userId/");return Object(S.jsx)(X,Object(a.a)(Object(a.a)({},t),{},{match:e}))}))}}]);
//# sourceMappingURL=4.d541d4e7.chunk.js.map